{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  "AkkaSync": {
    "Pipelines":[
      {
        "Name": "sync-customer",
        "SourceProvider": {
          "Type": "FolderWatcherSourceProvider",
          "Parameters": {
            "folder": "../../samples/inputs/PendingCustomerFiles",
            "source": "csv"
          }
        },
        "TransformerProvider": {
          "Type": "CsvTransformerProvider",
          "Parameters": {
            "transform": "customer"
          }
        },
        "SinkProvider": {
          "Type": "SqliteSinkProvider",
          "Parameters": {
            "connectionString": "Data Source=../../samples/outputs/demostore.db;Mode=ReadWriteCreate;Cache=Shared;Pooling=True;Foreign Keys=True;",
            "batchSize": 10
          }
        },
        "DependsOn": []
      },
      {
        "Name": "sync-product",
        "SourceProvider": {
          "Type": "FolderWatcherSourceProvider",
          "Parameters": {
            "folder": "../../samples/inputs/PendingProductFiles",
            "source": "csv"
          }
        },
        "TransformerProvider": {
          "Type": "CsvTransformerProvider",
          "Parameters": {
            "transform": "product"
          }
        },
        "SinkProvider": {
          "Type": "SqliteSinkProvider",
          "Parameters": {
            "connectionString": "Data Source=../../samples/outputs/demostore.db;Mode=ReadWriteCreate;Cache=Shared;Pooling=True;Foreign Keys=True;",
            "batchSize": 10
          }
        },
        "DependsOn": []
      },
      {
        "Name": "sync-order",
        "SourceProvider": {
          "Type": "FolderWatcherSourceProvider",
          "Parameters": {
            "folder": "../../samples/inputs/PendingOrderFiles",
            "source": "csv"
          }
        },
        "TransformerProvider": {
          "Type": "CsvTransformerProvider",
          "Parameters": {
            "transform": "order"
          }
        },
        "SinkProvider": {
          "Type": "SqliteSinkProvider",
          "Parameters": {
            "connectionString": "Data Source=../../samples/outputs/demostore.db;Mode=ReadWriteCreate;Cache=Shared;Pooling=True;Foreign Keys=True;",
            "batchSize": 5
          }
        },
        "DependsOn": ["sync-customer"]
      },
      {
        "Name": "sync-order-item",
        "SourceProvider": {
          "Type": "FolderWatcherSourceProvider",
          "Parameters": {
            "folder": "../../samples/inputs/PendingOrderItemFiles",
            "source": "csv"
          }
        },
        "TransformerProvider": {
          "Type": "CsvTransformerProvider",
          "Parameters": {
            "transform": "orderItem"
          }
        },
        "SinkProvider": {
          "Type": "SqliteSinkProvider",
          "Parameters": {
            "connectionString": "Data Source=../../samples/outputs/demostore.db;Mode=ReadWriteCreate;Cache=Shared;Pooling=True;Foreign Keys=True;",
            "batchSize": 5
          }
        },
        "HistoryStoreProvider":{
          "Type": "InMomeryHistoryStoreProvider",
          "Parameters": {
            "name": "demo"
          }
        },
        "DependsOn": ["sync-order", "sync-product"]
      },
      {
        "Name": "AuditCsvToSqlite",
        "SourceProvider": {
          "Type": "FolderWatcherSourceProvider",
          "Parameters": {
            "folder": "../../samples/inputs/PendingAuditFiles",
            "source": "csv"
          }
        },
        "TransformerProvider": {
          "Type": "CsvTransformerProvider",
          "Parameters": {
            "transform": "audit"
          }
        },
        "SinkProvider": {
          "Type": "SqliteSinkProvider",
          "Parameters": {
            "connectionString": "Data Source=../../samples/outputs/demostore.db;Mode=ReadWriteCreate;Cache=Shared;Pooling=True;Foreign Keys=True;",
            "batchSize": 5
          }
        },
        "DependsOn": ["sync-order", "sync-customer"]
      }
    ],
    "Schedules":{
      "sync-customer_daily": {
        "pipeline": "sync-customer",
        "cron": "* * * * *"
      },
      "sync-product_every-10-min": {
        "pipeline": "sync-product",
        "cron": "*/10 * * * *",
        "enabled": false
      },
      "sync-order_weekly": {
        "pipeline": "sync-order",
        "cron": "0 1 * * 1",
        "enabled": false
      },
      "sync-order-item_every-1-min": {
        "pipeline": "sync-order-item",
        "cron": "* * * * *",
        "enabled": false
      }
    }
  }
}
